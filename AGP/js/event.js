const _a = 2;
const _b = 2;
const _c = 1;
const _d = 1;
const _e = 2;
const _f = 2;
const _g = 0.5;
const _h = 1;
const _i = 1;
const _j = 1;
const _k = 1;
const _l = 1;
const _m = 1;
const _acc = 100
const _rain = 1
const _jam = 2
let _total = 0
var _random_number
var _random_event
function go(s, e){
    if(s==1){
        if(e==2){
            $('.st0').removeClass('path');
            if(_random_number==2){
                if(_random_event==1){
                    $('#info li:nth-child(3) span').text(_total);
                    $('#b,#g,#h,#e,#d,#c,.one').addClass('path');
                }
            }
        }
        // if(e==3){
        //     $('.st0').removeClass('path');
        // }
        // if(e==4){
        //     $('.st0').removeClass('path');
        // }
        // if(e==5){
        //     $('.st0').removeClass('path');
        // }
        // if(e==6){
        //     $('.st0').removeClass('path');
        // }
        // if(e==7){
        //     $('.st0').removeClass('path');
        // }
        // if(e==8){
        //     $('.st0').removeClass('path');
        // }
        // if(e==9){
        //     $('.st0').removeClass('path');
        // }
        // if(e==10){
        //     $('.st0').removeClass('path');
        // }
        // if(e==11){
        //     $('.st0').removeClass('path');
        // }
    }
    // if(s==2){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==4){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==5){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==7){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==8){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==9){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    // }
    if(s==3){
        // if(e==1){
        //     $('.st0').removeClass('path');
        // }
        // if(e==2){
        //     $('.st0').removeClass('path');
        // }
        // if(e==4){
        //     $('.st0').removeClass('path');
        // }
        // if(e==5){
        //     $('.st0').removeClass('path');
        // }
        // if(e==6){
        //     $('.st0').removeClass('path');
        // }
        // if(e==7){
        //     $('.st0').removeClass('path');
        // }
        // if(e==8){
        //     $('.st0').removeClass('path');
        // }
        if(e==9){
            $('.st0').removeClass('path');
            if(_random_number==3){
                if(_random_event==3){
                    _total = _f+_k+_m+_l;
                    $('#info li:nth-child(3) span').text(_total);
                    $('#f,#k,#m,#l,.three').addClass('path');
                }
            }
        }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    // }
    // if(s==4){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==2){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==5){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==7){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==8){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==9){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    // }
    // if(s==5){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==2){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==4){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==7){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==8){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==9){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    }
    if(s==6){
        // if(e==1){
        //     $('.st0').removeClass('path');
        // }
        // if(e==2){
        //     $('.st0').removeClass('path');
        // }
        // if(e==3){
        //     $('.st0').removeClass('path');
        // }
        // if(e==4){
        //     $('.st0').removeClass('path');
        // }
        // if(e==5){
        //     $('.st0').removeClass('path');
        // }
        // if(e==7){
        //     $('.st0').removeClass('path');
        // }
        if(e==8){
            $('.st0').removeClass('path');
            if(_random_number==5){
                if(_random_event==2){
                    _total = _h+_j+_m+_k;
                    $('#info li:nth-child(3) span').text(_total);
                    $('#h,#j,#m,#k,.two').addClass('path');
                }
            }
        }
        // if(e==9){
        //     $('.st0').removeClass('path');
        // }
        // if(e==10){
        //     $('.st0').removeClass('path');
        // }
        // if(e==11){
        //     $('.st0').removeClass('path');
        // }
    }
    // if(s==7){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==2){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==4){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==5){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==8){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==9){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    // }
    // if(s==8){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==2){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==4){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==5){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==7){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==9){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    // }
    // if(s==9){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==2){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==4){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==5){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==7){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==8){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    // }
    // if(s==10){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==2){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==4){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==5){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==7){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==8){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==9){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==11){
    //         $('.st0').removeClass('path');
    //     }
    // }
    // if(s==11){
    //     if(e==1){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==2){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==3){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==4){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==5){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==6){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==7){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==8){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==9){
    //         $('.st0').removeClass('path');
    //     }
    //     if(e==10){
    //         $('.st0').removeClass('path');
    //     }
    // }
}
$(document).ready(function(){
    $(document).bind("contextmenu",function(){
        return false;
    });
    var star_point = false;
    var end_point = false;
    var sp = 0
    var ep = 0
    $('#p1').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p1').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p1').addClass('star_point');
                star_point = true;
                sp = 1;
                $('#info li:nth-child(1) span').text('A');
            }
        }else if(3 == e.which){
            if($('#p1').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p1').addClass('end_point');
                end_point = true;
                ep = 1;
            }
        }
    });
    $('#p2').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p2').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p2').addClass('star_point');
                star_point = true;
                sp = 2;
            }
        }else if(3 == e.which){
            if($('#p2').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p2').addClass('end_point');
                end_point = true;
                ep = 2;
                $('#info li:nth-child(2) span').text('B');
            }
        }
    });
    $('#p3').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p3').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p3').addClass('star_point');
                star_point = true;
                sp = 3;
                $('#info li:nth-child(1) span').text('E');
            }
        }else if(3 == e.which){
            if($('#p3').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p3').addClass('end_point');
                end_point = true;
                ep = 3;
            }
        }
    });
    $('#p4').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p4').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p4').addClass('star_point');
                star_point = true;
                sp = 4;
            }
        }else if(3 == e.which){
            if($('#p4').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p4').addClass('end_point');
                end_point = true;
                ep = 4;
            }
        }
    });
    $('#p5').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p5').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p5').addClass('star_point');
                star_point = true;
                sp = 5;
            }
        }else if(3 == e.which){
            if($('#p5').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p5').addClass('end_point');
                end_point = true;
                ep = 5;
            }
        }
    });
    $('#p6').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p6').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p6').addClass('star_point');
                star_point = true;
                sp = 6;
                $('#info li:nth-child(1) span').text('F');
            }
        }else if(3 == e.which){
            if($('#p6').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p6').addClass('end_point');
                end_point = true;
                ep = 6;
            }
        }
    });
    $('#p7').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p7').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p7').addClass('star_point');
                star_point = true;
                sp = 7;
            }
        }else if(3 == e.which){
            if($('#p7').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p7').addClass('end_point');
                end_point = true;
                ep = 7;
            }
        }
    });
    $('#p8').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p8').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p8').addClass('star_point');
                star_point = true;
                sp = 8;
            }
        }else if(3 == e.which){
            if($('#p8').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p8').addClass('end_point');
                end_point = true;
                ep = 8;
                $('#info li:nth-child(2) span').text('H');
            }
        }
    });
    $('#p9').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p9').hasClass('end_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('star_point');
                $('#p9').addClass('star_point');
                star_point = true;
                sp = 9;
            }
        }else if(3 == e.which){
            if($('#p9').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p9').addClass('end_point');
                end_point = true;
                ep = 9;
                $('#info li:nth-child(2) span').text('I');
            }
        }
    });
    $('#p10').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p10').hasClass('end_point')){
                alert('起點和終點不能在同處');
            }else{
                $('.st1').removeClass('star_point');
                $('#p10').addClass('star_point');
                star_point = true;
                sp = 10;
            }
        }else if(3 == e.which){
            if($('#p10').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p10').addClass('end_point');
                end_point = true;
                ep = 10;
            }
        }
    });
    $('#p11').on('mousedown',function(e){
        if(1 == e.which){
            if($('#p11').hasClass('end_point')){
                alert('起點和終點不能在同處');
            }else{
                $('.st1').removeClass('star_point');
                $('#p11').addClass('star_point');
                star_point = true
                sp = 11
            }
        }else if(3 == e.which){
            if($('#p11').hasClass('star_point')){
                alert('起點和終點不能是同處')
            }else{
                $('.st1').removeClass('end_point');
                $('#p11').addClass('end_point');
                end_point = true
                ep = 11
            }
        }
    });
//------------------------------------------
    setInterval(function(){
        if(star_point==true && end_point ==true){
            go(sp,ep);
        }
    },100)
    function event(n,e){
        if(n == 1){
            $('#event_d').fadeIn(400);
            $('#icon_d').fadeIn(400);
            if(e==1){
                $('#icon_d .acc').addClass('acc_event');
                $('#icon_d .acc').stop().fadeIn(400);
            }else if(e==2){
                $('#icon_d .rain').addClass('rain_event');
                $('#icon_d .rain').stop().fadeIn(400);
            }else if(e==3){
                $('#icon_d .jam').addClass('jam_event');
                $('#icon_d .jam').stop().fadeIn(400);
            }
        }
        if(n == 2){
            $('#event_c').fadeIn(400);
            $('#icon_c').fadeIn(400);
            if(e==1){
                $('#info li:nth-child(4) span').text('車禍');
                $('#icon_c .acc').addClass('acc_event');
                $('#icon_c .acc').stop().fadeIn(400);
            }else if(e==2){
                $('#icon_c .rain').addClass('rain_event');
                $('#icon_c .rain').stop().fadeIn(400);
            }else if(e==3){
                $('#icon_c .jam').addClass('jam_event');
                $('#icon_c .jam').stop().fadeIn(400);
            }

        }
        if(n == 3){
            $('#event_g').fadeIn(400);
            $('#icon_g').fadeIn(400);
            if(e==1){
                $('#icon_g .acc').addClass('acc_event');
                $('#icon_g .acc').stop().fadeIn(400);
            }else if(e==2){
                $('#icon_g .rain').addClass('rain_event');
                $('#icon_g .rain').stop().fadeIn(400);
            }else if(e==3){
                $('#info li:nth-child(4) span').text('塞車');
                $('#icon_g .jam').addClass('jam_event');
                $('#icon_g .jam').stop().fadeIn(400);
            }

        }
        if(n == 4){
            $('#event_e').fadeIn(400);
            $('#icon_e').fadeIn(400);
            if(e==1){
                $('#icon_e .acc').addClass('acc_event');
                $('#icon_e .acc').stop().fadeIn(400);
            }else if(e==2){
                $('#icon_e .rain').addClass('rain_event');
                $('#icon_e .rain').stop().fadeIn(400);
            }else if(e==3){
                $('#icon_e .jam').addClass('jam_event');
                $('#icon_e .jam').stop().fadeIn(400);
            }

        }
        if(n == 5){
            $('#event_k').fadeIn(400);
            $('#icon_k').fadeIn(400);
            if(e==1){
                $('#icon_k .acc').addClass('acc_event');
                $('#icon_k .acc').stop().fadeIn(400);
            }else if(e==2){
                $('#info li:nth-child(4) span').text('下雨');
                $('#icon_k .rain').addClass('rain_event');
                $('#icon_k .rain').stop().fadeIn(400);
            }else if(e==3){
                $('#icon_k .jam').addClass('jam_event');
                $('#icon_k .jam').stop().fadeIn(400);
            }

        }
    }
    // setInterval(function(){
    //     $('.event').stop().fadeOut(300);
    //     $('.svg_icon').stop().fadeOut(300);
    //     $('.acc').stop().fadeOut(300);
    //     $('.rain').stop().fadeOut(300);
    //     $('.jam').stop().fadeOut(300);
    //     $('.svg_icon').removeClass('acc_event rain_event jam_event');
    //     _random_number = Math.floor(Math.random()*5 + 1);
    //     _random_event = Math.floor(Math.random()*3 + 1);
    //     _random_number = 2
    //     _random_event = 1
    //     //c > d > g > e > k
    //     event(_random_number,_random_event)
    // },5000)
    var count = 0
    $('#p1,#p2,#p3,#p4,#p5,#p6,#p7,#p8,#p9,#p10,#p11').fadeOut(100);
    $('main aside button').on('click',function(){
        count++
        if(count==1){
            $('#p1,#p2').fadeIn(400)
            setTimeout(function(){
                $('.event').stop().fadeOut(300);
                $('.svg_icon').stop().fadeOut(300);
                $('.acc').stop().fadeOut(300);
                $('.rain').stop().fadeOut(300);
                $('.jam').stop().fadeOut(300);
                $('.svg_icon').removeClass('acc_event rain_event jam_event');
                _random_number = 2
                _random_event = 1
                event(_random_number,_random_event)
            },100)
        }
        if(count==2){
            $('#p1,#p2,#p3,#p4,#p5,#p6,#p7,#p8,#p9,#p10,#p11').hide();
            $('#p6,#p8').fadeIn(400)
            $('.event').stop().fadeOut(300);
            $('.svg_icon').stop().fadeOut(300);
            $('.acc').stop().fadeOut(300);
            $('.rain').stop().fadeOut(300);
            $('.jam').stop().fadeOut(300);
            $('.svg_icon').removeClass('acc_event rain_event jam_event');
            $('#info li:nth-child(4) span').text(' ');
            $('#info li:nth-child(3) span').text(' ');
            $('#info li:nth-child(2) span').text(' ');
            $('#info li:nth-child(1) span').text(' ');
            _random_number = 5;
            _random_event = 2;
            event(_random_number,_random_event);
        }
        if(count==3){
            $('#p1,#p2,#p3,#p4,#p5,#p6,#p7,#p8,#p9,#p10,#p11').hide();
            $('#p3,#p9').fadeIn(400)
            $('.event').stop().fadeOut(300);
            $('.svg_icon').stop().fadeOut(300);
            $('.acc').stop().fadeOut(300);
            $('.rain').stop().fadeOut(300);
            $('.jam').stop().fadeOut(300);
            $('.svg_icon').removeClass('acc_event rain_event jam_event');
            $('#info li:nth-child(4) span').text(' ');
            $('#info li:nth-child(3) span').text(' ');
            $('#info li:nth-child(2) span').text(' ');
            $('#info li:nth-child(1) span').text(' ');
            _random_number = 3;
            _random_event = 3;
            event(_random_number,_random_event);
        }
        if(count>3){
            $('#p1,#p2,#p3,#p4,#p5,#p6,#p7,#p8,#p9,#p10,#p11').show();
            $('.star_point').removeClass('star_point');
            $('.end_point').removeClass('end_point');
            $('.path').removeClass('path');
            $('main aside button').bind("click",function(){
                return false;
            });
            $('.event').stop().fadeOut(300);
                $('.svg_icon').stop().fadeOut(300);
                $('.acc').stop().fadeOut(300);
                $('.rain').stop().fadeOut(300);
                $('.jam').stop().fadeOut(300);
                $('.svg_icon').removeClass('acc_event rain_event jam_event');
                $('#info li:nth-child(4) span').text(' ');
                $('#info li:nth-child(3) span').text(' ');
                $('#info li:nth-child(2) span').text(' ');
                $('#info li:nth-child(1) span').text(' ');
                _random_number = Math.floor(Math.random()*5 + 1);
                _random_event = Math.floor(Math.random()*3 + 1);
                event(_random_number,_random_event);
            setInterval(function(){
                $('.event').stop().fadeOut(300);
                $('.svg_icon').stop().fadeOut(300);
                $('.acc').stop().fadeOut(300);
                $('.rain').stop().fadeOut(300);
                $('.jam').stop().fadeOut(300);
                $('.svg_icon').removeClass('acc_event rain_event jam_event');
                $('#info li:nth-child(4) span').text(' ');
                $('#info li:nth-child(3) span').text(' ');
                $('#info li:nth-child(2) span').text(' ');
                $('#info li:nth-child(1) span').text(' ');
                _random_number = Math.floor(Math.random()*5 + 1);
                _random_event = Math.floor(Math.random()*3 + 1);
                event(_random_number,_random_event);
            },5000)
        }
    })
})
